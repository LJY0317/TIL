25. 09. 18.
- Client: 서비스를 요청하는 주체
- Server: 클라이언트의 요청에 응답하는 주체.
- Frontend: 사용자 인터페이스 (UI)를 구성하고, 사용자가 애플리케이션과 상호작용할 수 있도록 함
  > HTML, CSS, JavaScrip, 프론트엔드 프레임워크 등
- Backend: 서버 측에서 동작하며, 클라이언트의 요청에 대한 처리와 데이터베이스와의 상호작용 등을 담당
  > 서버 언어 (Python, Java 등) 및 백엔드 프레임워크, 데이터베이스, API, 보안 등

# Django

## 가상 환경 생성 및 활성화
1. 가상 환경 생성: ```$ python -m venv venv```
2. 가상 환경 활성화: ```$ source venv/Scripts/activate```
  > 맥 / 리눅스에서는 ```$ source venv/bin/activate```
3. 가상 환경 종료: ```$ deactivate```ㅣ

## 의존성 패키지
1. 패키지 목록 확인: ```$ pip list```
2. 의존성 기록: ```$ pip freeze > requirements.txt```
3. 의존성 패키지 기반 설치: ```$ pip install -r requirements.txt```
  > 1. requirements.txt가 없다면, ```$ pip install requests```와 ```$ pip install django```를 이용해 동기 요청을 보낼 수 있음.
  > 2. 그 뒤엔 반드시 ```$ pip freeze > requirements.txt```를 입력하여 .txt을 직접 만들자.
  > 3. 그 뒤엔 업로드할 경우를 대비해 ```touch .gitignore```까지 미리 만들어두자.

### 요약
1. 가상 환경 생성 (```$ python -m venv venv```)
2. 가상 환경 활성화 (```$ source venv/Scripts/activate```)
3. 필요한 의존성 패키지 설치 (```$ pip install```)
4. 현재 환경의 패키지 목록을 ```$ pip freeze > requirements.txt```로 저장하여 의존성을 관리
5. 다른 컴퓨터나 팀원도 같은 환경이 필요하다면, ```$ pip install -r requirements.txt```로 동일한 버전의 라이브러리를 설치
6. 작업이 끝나면 ```$ deactivate```로 가상 환경을 비활성화

## Django 프로젝트 생성 및 서버 실행
1. Django 설치: ```$ pip install django```
2. 프로젝트 생성: ```$ django-admin startproject firstpjt .```
  > 마지막에 있는 '.'을 잊지 말자.
3. 서버 실행: ```$ python manage.py runserver```
4. 로그에서 ```$ http://127.0.0..1:8000/``` 접속 후 확인

## Django Design Pattern
- MVC 디자인 패턴: 하나의 애플리케이션을 구조화하는 대표적인 구조적 디자인 패턴
  - Model: 데이터 및 비즈니스 로직을 처리
  - View: 사용자에게 보이는 화면을 담당
  - Controller: 사용자의 입력을 받아 Model과 View를 제어
- MTV 디자인 패턴: View -> Template, Controller -> View
  > 단순히 명칭을 다르게 정의한 것

## 프로젝트와 앱
- Django project: 애플리케이션의 집합
- Django application: 독립적으로 작동하는 기능 단위 모듈

1. 앱 생성: ```$ python manage.py startapp articles```
  > 'articles'라는 폴더와 내부에 여러 파일들이 새로 생성됨.
2. 앱 등록: 반드시 앱을 생성한 후 등록해야 함.
  ```python
  # settings.py
  INSTALEED_APPS = [
    'articles' # 이런 식으로 추가
   ]
  ```

### 조금 더 해보자 (기본적으로 해야되는 일들)
1. app 이름을 INSTALLED_APPS에 등록해보자.
2. 앱 폴더에 urls.py을 새로 만들고 단축 url을 등록해보자.
3. 이때, 앱의 urls.py에 app_name=''도 만들어보는 걸 잊지 말자.
```python
# 프로젝트 폴더의 urls.py 예시
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('articles/', include('articles.urls')),
]
```

```python
# 앱 폴더의 urls.py 예시
from django.urls import path
from . import views


app_name = 'articles' # 앱 네임도 꼭 만들자.
urlpatterns = [
    path('', views.index, name='index'),
]

```

```python
# views.py의 index 함수 예시
def index(request):
    # 1. DB에 전체 게시글을 조회
    articles = Article.objects.all()

    # 2. 전체 게시글 목록을 템플릿과 함께 응답
    context = {
        'articles': articles,
    }
    return render(request, 'articles/index.html', context)
```

3. 루트 디렉토리에 templates를 만들고 base.html을 만들자.
4. base.html에 <end block> 뭐시기 해두자
5. settings.py의 TEMPLATES의 'DIRS': []에 BASE_DIR 등을 추가해보자.


## 프로젝트 및 앱 구조
### 프로젝트 구조
- settings.py: 프로젝트의 모든 설정을 관리
- urls.py: 요청 들어오는 URL에 따라 이에 해당하는 적절한 view를 연결
- __init__.py: 해당 폴더를 패키지로 인식하도록 설정하는 파일
- asgi.py: 비동기식 웹 서버와의 연결 관련 설정
- wsgi.py: 웹 서버와의 연결 설정
- manage.py: Django 프로젝트와 다양한 방법으로 상호작용하는 커맨드라인 유틸리티
### 앱 구조
- admin.py: 관리자용 페이지 설정
- models.py: DB와 관련된 Model을 정의
- views.py: HTTP 요청을 처리하고 해당 요청에 대한 응답을 반환
- apps.py: 앱의 정보가 작성된 곳
- tests.py: 프로젝트 테스트 코드를 작성하는 곳


25. 09. 23.
## Django Model
### Model class (& 마이그레이션)
- DB의 테이블을 정의하고 데이터를 조작할 수 있는 기능들을 제공.
1. 모델 정의 (예시. title, content 등 필드 이름은 바꾸어도 됨.):
```python
class Article(models.Model):
  title = models.CharField(max_length=10)
  content = models.TextField()
```
2. 마이그레이션 파일 생성: ```$ python manage.py makemigrations```
  > model 클래스의 변경사항 (필드 생성, 수정, 삭제 등)을 DB에 최종 반영하는 방법.
3. 마이그레이션 파일을 DB에 반영: ```$ python manage.py migrate```

## 관리자 인터페이스
1. 관리자 계정 생성 명령어: ```$ python manage.py createsuperuser```
  > ```$ https://127.0.0.1:8000/admin```에서 로그인 가능.
2. Admin site 모델 클래스 등록:
```python
# articles/admin.py
from django.contrib import admin
from .models import Article

admin.site.register(Article)
```
  > admin.py에 작성한 모델 클래스를 등록해야만 admin site에서 확인 가능.

25. 09. 24.
## QuerySet API 실습 사전 준비
### IPython
- IPython은 편리한 파이썬 작업 환경을 만들어주는 도구
1. Ipython 설치: ```$ pip install ipython```
  > 이 후 ```$ pip freeze > requirements.txt```를 다시 실행.
### Django Shell
- Django 프로젝트의 코드를 명령창에서 바로 실행하고 테스트하는 특별한 파이썬 환경
1. Django Shell 접속하기: ```$ python manage.py shell```
2. Shell "-v" 옵션 (기본값: 1): ```$ python manage.py shell -v 2```
  > 일반적인 정보 외에 더 많은 디버깅 정보나 진행 상황 메시지를 보여달라는 요청.

### 데이터 객체를 만드는 3가지 방법
1. 빈 객체 생성 후 값 할당 및 저장:
```python
>>> article = Article()

>>> article.title = 'first'
>>> article.content = 'django!'
```
  > ```$ article.save()```를 해야 저장됨.

2. 초기 값과 함께 객체 생성 및 저장:
```python
>>> article = Article(title='second', content='django!')
```
  > ```$ article.save()```를 해야 저장됨.

3. create() 메서드로 한 번에 생성 및 저장:
```python
>>> Article.objects.create(title='third', content='django!')
```
  > 위 2가지 방법과 달리 저장 이후 바로 생성된 데이터가 반환된다.
    > create() 메서드 자체가 객체 생성과 데이터베이스 저장을 한 번에 처리하는 단축 메서드이기 때문.

## ORM with view
- urls.py, views.py의 작성 예시
```python
# crud (프로젝트 폴더)/urls.py (예시)
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('articles/', include('articles.urls')),
]
```

```python
# articles (앱 폴더)/urls.py (예시)
from django.urls import path
from . import views

app_name = 'articles'
urlpatterns = [
    path('', views.index, name='index'),
]
```

```python
# articles (앱 폴더)/views.py
from .models import Article

def index(request):
  articles = Article.objects.all()
  context = {
    'articles': articles,
  }

  return render(request, 'articles/index.html', context)
```